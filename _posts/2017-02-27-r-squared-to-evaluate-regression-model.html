---
layout: post
title: R-squared To Evaluate A Regression Model
date: '2017-02-27T09:52:00.000-08:00'
author: Sujay S Kumar
tags: 
modified_time: '2017-02-27T09:52:26.659-08:00'
blogger_id: tag:blogger.com,1999:blog-925060870564624560.post-3782427282211978842
blogger_orig_url: http://sujayskumar.blogspot.com/2017/02/r-squared-to-evaluate-regression-model.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div>Evaluating a classification model is fairly straightforward and simple. You just count how many of the classifications the model got right and how many it didn't.<br /><br />Evaluating a regression model is not that straightforward, at least from my perspective. One of the useful metric that is used by a majority of the implementations is R-squared.<br /><br /><b>What is R-squared?</b><br /><br />R-squared is a goodness-of-fit test in order to evaluate how good your model fits the data. It is also known as the coefficient of determination, or the coefficient of multiple determination for multiple regression.<br /><br />I know the terms might be a bit overwhelming, like the majority of statistical terms, but the explanation is quite simple. It is the percentage of variation from the mean that the model can explain. In simpler words, R-squared shows how much of the variance from the mean is explained by the model.<br /><br />Consider a set of points in the target set, given by<br /><br /><a href="https://www.codecogs.com/eqnedit.php?latex=\bg_white&amp;space;y_{1},y_{2},y_{3}...y_{n}" target="_blank"><img src="https://latex.codecogs.com/gif.latex?\bg_white&amp;space;y_{1},y_{2},y_{3}...y_{n}" title="y_{1},y_{2},y_{3}...y_{n}" /></a><br /><br />Now, consider the set of predicted points<br /><br /><a href="https://www.codecogs.com/eqnedit.php?latex=\bg_white&amp;space;f_{1},f_{2},f_{3}...f_{n}" target="_blank"><img src="https://latex.codecogs.com/gif.latex?\bg_white&amp;space;f_{1},f_{2},f_{3}...f_{n}" title="f_{1},f_{2},f_{3}...f_{n}" /></a><br /><br /><br />Let <a href="https://www.codecogs.com/eqnedit.php?latex=\inline&amp;space;\bg_white&amp;space;\bar{y}" target="_blank"><img src="https://latex.codecogs.com/gif.latex?\inline&amp;space;\bg_white&amp;space;\bar{y}" title="\bar{y}" /></a> be the mean of y.<br /><br /><br />The mean variance of the data is given by,<br /><br /><a href="https://www.codecogs.com/eqnedit.php?latex=\bg_white&amp;space;SS_{tot}&amp;space;=&amp;space;\sum&amp;space;(y_{i}-\bar{y})^{2}" target="_blank"><img src="https://latex.codecogs.com/gif.latex?\bg_white&amp;space;SS_{tot}&amp;space;=&amp;space;\sum&amp;space;(y_{i}-\bar{y})^{2}" title="SS_{tot} = \sum (y_{i}-\bar{y})^{2}" /></a><br /><br />The explained variance by the model is given by,<br /><br /><a href="https://www.codecogs.com/eqnedit.php?latex=\bg_white&amp;space;SS_{reg}&amp;space;=&amp;space;\sum&amp;space;(f_{i}-\bar{y})^{2}" target="_blank"><img src="https://latex.codecogs.com/gif.latex?\bg_white&amp;space;SS_{reg}&amp;space;=&amp;space;\sum&amp;space;(f_{i}-\bar{y})^{2}" title="SS_{reg} = \sum (f_{i}-\bar{y})^{2}" /></a><br /><br />Consequently, the unexplained variance by the model is given by,<br /><br /><a href="https://www.codecogs.com/eqnedit.php?latex=\bg_white&amp;space;SS_{reg}&amp;space;=&amp;space;\sum&amp;space;(y_{i}-f_{i})^{2}" target="_blank"><img src="https://latex.codecogs.com/gif.latex?\bg_white&amp;space;SS_{reg}&amp;space;=&amp;space;\sum&amp;space;(y_{i}-f_{i})^{2}" title="SS_{reg} = \sum (y_{i}-f_{i})^{2}" /></a><br /><br />Hence, the definition for R-squared is as follows,<br /><br /><a href="https://www.codecogs.com/eqnedit.php?latex=\bg_white&amp;space;R^{2}\equiv&amp;space;1-\frac{SS_{res}}{SS_{tot}}" target="_blank"><img src="https://latex.codecogs.com/gif.latex?\bg_white&amp;space;R^{2}\equiv&amp;space;1-\frac{SS_{res}}{SS_{tot}}" title="R^{2}\equiv 1-\frac{SS_{res}}{SS_{tot}}" /></a><br /><br />From the above equation, we can see that the value of R-squared lies between 0 and 1. 1 indicating that the model fits the data perfectly and 0 indicating that the model is unable to explain any variation from the mean. Thus we can safely assume that higher the value of R-squared, better the model is.<br /><br /><i>BUT, THIS IS NOT ENTIRELY TRUE.</i><br /><br />Some of the scenarios where this metric cannot be used are: <br /><ul style="text-align: left;"><li>R-squared cannot be used as an evaluation metric for any non linear regression models. Although it might throw some light on the performance of the model, it is mathematically not a suitable metric for non linear regression. Most of the non linear regression libraries still provide R-squared as an evaluation metric for reasons unknown.</li><li>The value of R-squared can be negative, as the model can be infinitely bad.</li><li>As we add new variables to the linear regression model, the least squares error decreases. This leads to an increase in the R-squared value. As we can see, R-squared is an increasing function of number of variables. Hence, we cannot truly compare two models with different number of variables on this metric.</li><li>As a corollary to the previous point, adding new variables (irrespective of their applicability to the problem) always increases. This does not necessarily mean that the model is better. In such cases, adjusted R-squared is a better metric.</li></ul></div></div>